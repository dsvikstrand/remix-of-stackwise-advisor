{
  "version": 1,
  "notes": [
    "Test config to validate DAS retry/select-best wiring without debating eval metrics.",
    "Forces a single retry on PROMPT_PACK and LIB_GEN via testOnly.failOnce.",
    "Keep this file for local/Oracle validation runs only."
  ],
  "defaults": {
    "enabled": true,
    "kCandidates": 1,
    "maxAttempts": 2,
    "eval": [],
    "onHardFail": "stop_run"
  },
  "nodes": {
    "PROMPT_PACK": {
      "kCandidates": 1,
      "maxAttempts": 2,
      "eval": ["structural", "bounds", "persona_alignment_v0", "testOnly_failOnce"],
      "params": {
        "persona_alignment_v0": {
          "minTagOverlapRatio": 0.25,
          "hardFailOnMustAvoid": true
        }
      }
    },
    "LIB_GEN": {
      "kCandidates": 1,
      "maxAttempts": 2,
      "eval": ["structural", "bounds", "testOnly_failOnce"]
    },
    "BP_GEN": {
      "kCandidates": 1,
      "maxAttempts": 1,
      "eval": ["structural", "bounds", "crossref"]
    },
    "VAL": {
      "kCandidates": 1,
      "maxAttempts": 1,
      "eval": ["crossref"]
    },
    "APPLY": {
      "enabled": false,
      "maxAttempts": 1
    }
  },
  "testOnly": {
    "enabled": true,
    "failOnce": {
      "nodes": ["PROMPT_PACK", "LIB_GEN"],
      "failOnAttempt": 1
    }
  }
}
